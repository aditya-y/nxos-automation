<!DOCTYPE html>
<html>
<head>
    <title>NX-OS Hardening Compliance Report - {{ hostname }}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { color: #0066cc; }
        h2 { color: #0099cc; border-bottom: 2px solid #0099cc; padding-bottom: 5px; }
        table { border-collapse: collapse; width: 100%; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background-color: #0066cc; color: white; }
        .pass { background-color: #d4edda; color: #155724; font-weight: bold; }
        .fail { background-color: #f8d7da; color: #721c24; font-weight: bold; }
        .section { margin: 30px 0; }
    </style>
</head>
<body>
    <h1>NX-OS Security Hardening Compliance Report</h1>
    <p><strong>Device:</strong> {{ summary_data.hostname }}</p>
    <p><strong>Generated:</strong> {{ report_data.timestamp }}</p>
    
    <h2>Compliance Summary</h2>
    <table>
        <tr>
            <th>Security Control</th>
            <th>Status</th>
        </tr>
        <tr>
            <td>Password Strength Check</td>
            <td class="{{ 'pass' if summary_data.password_strength == 'PASS' else 'fail' }}">{{ summary_data.password_strength }}</td>
        </tr>
        <tr>
            <td>SSH Hardening (RSA 2048)</td>
            <td class="{{ 'pass' if summary_data.rsa_2048 == 'PASS' else 'fail' }}">{{ summary_data.rsa_2048 }}</td>
        </tr>
        <tr>
            <td>CoPP Strict Profile</td>
            <td class="{{ 'pass' if summary_data.copp_strict == 'PASS' else 'fail' }}">{{ summary_data.copp_strict }}</td>
        </tr>
        <tr>
            <td>Login Banner Configured</td>
            <td class="{{ 'pass' if summary_data.banner_present == 'PASS' else 'fail' }}">{{ summary_data.banner_present }}</td>
        </tr>
        <tr>
            <td>AAA Local Authentication First</td>
            <td class="{{ 'pass' if summary_data.aaa_local_first == 'PASS' else 'fail' }}">{{ summary_data.aaa_local_first }}</td>
        </tr>
        <tr>
            <td>Exec Timeout (5 minutes)</td>
            <td class="{{ 'pass' if summary_data.exec_timeout == 'PASS' else 'fail' }}">{{ summary_data.exec_timeout }}</td>
        </tr>
        <tr>
            <td>VTY ACL Protection</td>
            <td class="{{ 'pass' if summary_data.vty_acl_protected == 'PASS' else 'fail' }}">{{ summary_data.vty_acl_protected }}</td>
        </tr>
        <tr>
            <td>Logging Source Interface</td>
            <td class="{{ 'pass' if summary_data.logging_secured == 'PASS' else 'fail' }}">{{ summary_data.logging_secured }}</td>
        </tr>
        <tr>
            <td>NTP Authentication Enabled</td>
            <td class="{{ 'pass' if summary_data.ntp_authenticated == 'PASS' else 'fail' }}">{{ summary_data.ntp_authenticated }}</td>
        </tr>
        <tr>
            <td>SNMP Global Enforce Privacy</td>
            <td class="{{ 'pass' if summary_data.snmp_enforce_priv == 'PASS' else 'fail' }}">{{ summary_data.snmp_enforce_priv }}</td>
        </tr>
        <tr>
            <td>Monitoring ACLs Configured</td>
            <td class="{{ 'pass' if summary_data.monitoring_acls == 'PASS' else 'fail' }}">{{ summary_data.monitoring_acls }}</td>
        </tr>
    </table>
    
    <div class="section">
        <h2>Detailed Configuration Status</h2>
        <pre>{{ report_data | to_nice_yaml }}</pre>
    </div>
</body>
</html>
